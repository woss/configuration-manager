// Generated by CoffeeScript 1.6.3
var ch;

ch = (function() {
  function ch() {}

  ch.prototype.user = {};

  ch.prototype.make_base_auth = function(user, password) {
    var hash, tok;
    hash = void 0;
    tok = void 0;
    tok = user + ":" + password;
    hash = btoa(tok);
    return "Basic " + hash;
  };

  ch.prototype.makePost = function(data, location, _cb) {
    return $.ajax({
      type: "POST",
      url: location,
      dataType: "json",
      async: true,
      contentType: "application/json; charset=utf-8",
      data: JSON.stringify(data),
      success: function(xhr) {
        return _cb({
          xhr: xhr,
          success: true
        });
      },
      error: function(xhr, type) {
        return _cb({
          xhr: xhr,
          success: false,
          error: type
        });
      }
    });
  };

  ch.prototype.makePut = function(data, location, _cb) {
    return $.ajax({
      type: "PUT",
      url: location,
      dataType: "json",
      async: false,
      contentType: "application/json; charset=utf-8",
      data: JSON.stringify(data),
      success: function(xhr) {
        return _cb({
          xhr: xhr,
          success: true
        });
      },
      error: function(xhr, type) {
        return _cb({
          xhr: xhr,
          success: false,
          error: type
        });
      }
    });
  };

  ch.prototype.findRequest = function(data, location, _cb) {
    return $.ajax({
      type: "POST",
      url: location,
      dataType: "json",
      async: false,
      contentType: "application/json; charset=utf-8",
      data: JSON.stringify(data),
      success: function(xhr) {
        return _cb({
          xhr: xhr,
          success: true
        });
      },
      error: function(xhr, type) {
        return _cb({
          xhr: xhr,
          success: false,
          error: type
        });
      }
    });
  };

  ch.prototype.showFlashMsg = function(type, message, _cb) {
    var typeList;
    typeList = {
      "w": "alert-warning",
      "d": "alert-danger",
      "s": "alert-success",
      "l": "alert-link",
      "i": "alert-info"
    };
    $("#flash p").html(message);
    return $("#flash").addClass(typeList[type]).show();
  };

  return ch;

})();

ch = new ch();
