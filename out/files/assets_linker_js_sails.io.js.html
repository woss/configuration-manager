<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>assets/linker/js/sails.io.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/:: Controller.html">:: Controller</a></li>
            
                <li><a href="../modules/:: Model.html">:: Model</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: assets/linker/js/sails.io.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * sails.io.js
 *
 * This file is completely optional, and merely here for your convenience.
 *
 * It reduces the amount of browser code necessary to send and receive messages
 * to &amp; from Sails by simulating a REST client interface on top of socket.io.
 * It models its API after the pattern in jQuery you might be familiar with.
 * 
 * So to switch from using AJAX to Socket.io, instead of:
 *    &#x60;$.post( url, [data], [cb] )&#x60;
 *
 * You would use:
 *    &#x60;socket.post( url, [data], [cb] )&#x60;
 *
 * For more information, visit:
 * http://sailsjs.org/#documentation
 */

(function (io) {


  // We&#x27;ll be adding methods to &#x60;io.SocketNamespace.prototype&#x60;, the prototype for the 
  // Socket instance returned when the browser connects with &#x60;io.connect()&#x60;
  var Socket = io.SocketNamespace;



  /**
   * Simulate a GET request to sails
   * e.g.
   *    &#x60;socket.get(&#x27;/user/3&#x27;, Stats.populate)&#x60;
   *
   * @param {String} url    ::    destination URL
   * @param {Object} params ::    parameters to send with the request [optional]
   * @param {Function} cb   ::    callback function to call when finished [optional]
   */

  Socket.prototype.get = function (url, data, cb) {
    return this.request(url, data, cb, &#x27;get&#x27;);
  };



  /**
   * Simulate a POST request to sails
   * e.g.
   *    &#x60;socket.post(&#x27;/event&#x27;, newMeeting, $spinner.hide)&#x60;
   *
   * @param {String} url    ::    destination URL
   * @param {Object} params ::    parameters to send with the request [optional]
   * @param {Function} cb   ::    callback function to call when finished [optional]
   */

  Socket.prototype.post = function (url, data, cb) {
    return this.request(url, data, cb, &#x27;post&#x27;);
  };



  /**
   * Simulate a PUT request to sails
   * e.g.
   *    &#x60;socket.post(&#x27;/event/3&#x27;, changedFields, $spinner.hide)&#x60;
   *
   * @param {String} url    ::    destination URL
   * @param {Object} params ::    parameters to send with the request [optional]
   * @param {Function} cb   ::    callback function to call when finished [optional]
   */

  Socket.prototype.put = function (url, data, cb) {
    return this.request(url, data, cb, &#x27;put&#x27;);
  };



  /**
   * Simulate a DELETE request to sails
   * e.g.
   *    &#x60;socket.delete(&#x27;/event&#x27;, $spinner.hide)&#x60;
   *
   * @param {String} url    ::    destination URL
   * @param {Object} params ::    parameters to send with the request [optional]
   * @param {Function} cb   ::    callback function to call when finished [optional]
   */

  Socket.prototype[&#x27;delete&#x27;] = function (url, data, cb) {
    return this.request(url, data, cb, &#x27;delete&#x27;);
  };




   /**
   * Simulate HTTP over Socket.io
   * @api private :: but exposed for backwards compatibility w/ &lt;= sails@~0.8
   */

  Socket.prototype.request = request;
  function request (url, data, cb, method) {

    var socket = this;

    var usage = &#x27;Usage:\n socket.&#x27; +
      (method || &#x27;request&#x27;) +
      &#x27;( destinationURL, dataToSend, fnToCallWhenComplete )&#x27;;

    // Remove trailing slashes and spaces
    url = url.replace(/^(.+)\/*\s*$/, &#x27;$1&#x27;);

    // If method is undefined, use &#x27;get&#x27;
    method = method || &#x27;get&#x27;;


    if ( typeof url !== &#x27;string&#x27; ) {
      throw new Error(&#x27;Invalid or missing URL!\n&#x27; + usage);
    }

    // Allow data arg to be optional
    if ( typeof data === &#x27;function&#x27; ) {
      cb = data;
      data = {};
    }

    // Build to request
    var json = window.io.JSON.stringify({
      url: url,
      data: data
    });


    // Send the message over the socket
    socket.emit(method, json, function afterEmitted (result) {

      var parsedResult = result;

      if (result &amp;&amp; typeof result === &#x27;string&#x27;) {
        try {
          parsedResult = window.io.JSON.parse(result);
        } catch (e) {
          if (typeof console !== &#x27;undefined&#x27;) {
            console.warn(&quot;Could not parse:&quot;, result, e);
          }
          throw new Error(&quot;Server response could not be parsed!\n&quot; + result);
        }
      }

      // TODO: Handle errors more effectively
      if (parsedResult === 404) throw new Error(&quot;404: Not found&quot;);
      if (parsedResult === 403) throw new Error(&quot;403: Forbidden&quot;);
      if (parsedResult === 500) throw new Error(&quot;500: Server error&quot;);

      cb &amp;&amp; cb(parsedResult);

    });
  }
  



}) (

  // In case you&#x27;re wrapping socket.io to prevent pollution of the global namespace,
  // you can replace &#x60;window.io&#x60; with your own &#x60;io&#x60; here:
  window.io

);

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
